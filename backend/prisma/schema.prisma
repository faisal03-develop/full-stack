generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum UserRole {
  patient
  doctor
  admin
}

 model User{
  id String @id @default(cuid())
  firstname String
  lastname String
  username String @unique
  email String @unique
  password String
  role      UserRole  @default(patient)
  createdAt DateTime @default(now())
  treatment TreatmentPlan[]
  appointment Appointment[]

 }

model TreatmentPlan{
  id String @id @default(cuid())
  name String
  description String
  price Int
  doc User @relation(fields: [doc_id], references: [id])
  doc_id String
  createdAt DateTime @default(now())
  appointment Appointment[]
}


model Appointment{
  a_id String @id @default(cuid())
  doc_id String
  patient User @relation(fields: [pid], references: [id])
  pid String
  tplan TreatmentPlan @relation(fields: [t_id], references: [id])
  t_id String
  date DateTime
  status String
}